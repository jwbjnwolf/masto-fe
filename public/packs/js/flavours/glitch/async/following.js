(window.webpackJsonp=window.webpackJsonp||[]).push([[516],{1541:function(t,e,o){"use strict";o.r(e);var s=o(0),a=o(51),c=o.n(a),n=o(3),i=o.n(n),d=o(20),r=o(16),u=o.n(r),l=o(18),p=o(9),h=o(21),b=o(1040),m=o(1431),g=o(1681),j=o(1042),I=o(1673),O=o(1676),f=o(1025),w=o(1660),M=o(1074),y=o(145),_=o(1682),L=o(6);const C=t=>{let{url:e}=t;return Object(s.a)(g.a,{url:e,resource:Object(s.a)(d.a,{id:"timeline_hint.resources.follows",defaultMessage:"Follows"})})};class T extends l.a{constructor(){super(...arguments),this.handleLoadMore=c()((()=>{this.props.dispatch(Object(h.W)(this.props.accountId))}),300,{leading:!0}),this.setRef=t=>{this.column=t},this.handleHeaderClick=()=>{this.column.scrollTop()}}_load(){const{accountId:t,isAccount:e,dispatch:o}=this.props;e||o(Object(h.X)(t)),o(Object(h.ab)(t))}componentDidMount(){const{params:{acct:t},accountId:e,dispatch:o}=this.props;e?this._load():o(Object(h.fb)(t))}componentDidUpdate(t){const{params:{acct:e},accountId:o,dispatch:s}=this.props;t.accountId!==o&&o?this._load():t.params.acct!==e&&s(Object(h.fb)(e))}render(){const{accountId:t,accountIds:e,hasMore:o,isAccount:a,multiColumn:c,isLoading:n,suspended:i,hidden:r,remote:u,remoteUrl:l}=this.props;if(!a)return Object(s.a)(f.a,{multiColumn:c,errorType:"routing"});if(!e)return Object(s.a)(w.a,{},void 0,Object(s.a)(b.a,{}));let p;const h=i||r;p=i?Object(s.a)(d.a,{id:"empty_column.account_suspended",defaultMessage:"Account suspended"}):r?Object(s.a)(_.a,{accountId:t}):u&&e.isEmpty()?Object(s.a)(C,{url:l}):Object(s.a)(d.a,{id:"account.follows.empty",defaultMessage:"This user doesn't follow anyone yet."});const g=u?Object(s.a)(C,{url:l}):null;return Object(L.jsxs)(w.a,{ref:this.setRef,children:[Object(s.a)(I.a,{onClick:this.handleHeaderClick,multiColumn:c}),Object(s.a)(m.a,{scrollKey:"following",hasMore:!h&&o,isLoading:n,onLoadMore:this.handleLoadMore,prepend:Object(s.a)(O.a,{accountId:this.props.accountId,hideTabs:!0}),alwaysPrepend:!0,append:g,emptyMessage:p,bindToDocument:!c},void 0,e.map((t=>Object(s.a)(j.a,{id:t,withNote:!1},t))))]})}}T.propTypes={params:i.a.shape({acct:i.a.string,id:i.a.string}).isRequired,accountId:i.a.string,dispatch:i.a.func.isRequired,accountIds:u.a.list,hasMore:i.a.bool,isLoading:i.a.bool,isAccount:i.a.bool,suspended:i.a.bool,hidden:i.a.bool,remote:i.a.bool,remoteUrl:i.a.string,multiColumn:i.a.bool},e.default=Object(p.connect)(((t,e)=>{let{params:{acct:o,id:s}}=e;const a=s||t.getIn(["accounts_map",Object(M.b)(o)]);return a?{accountId:a,remote:!(t.getIn(["accounts",a,"acct"])===t.getIn(["accounts",a,"username"])),remoteUrl:t.getIn(["accounts",a,"url"]),isAccount:!!t.getIn(["accounts",a]),accountIds:t.getIn(["user_lists","following",a,"items"]),hasMore:!!t.getIn(["user_lists","following",a,"next"]),isLoading:t.getIn(["user_lists","following",a,"isLoading"],!0),suspended:t.getIn(["accounts",a,"suspended"],!1),hidden:Object(y.b)(t,a)}:{isLoading:!0}}))(T)}}]);
//# sourceMappingURL=following.js.map