(window.webpackJsonp=window.webpackJsonp||[]).push([[503],{1444:function(e,t,a){"use strict";var s=a(7),o=a(28),i=a(9),n=a(33),c=a(11),r=a(949),l=a(1397);const d=Object(s.d)({logoutMessage:{id:"confirmations.logout.message",defaultMessage:"Are you sure you want to log out?"},logoutConfirm:{id:"confirmations.logout.confirm",defaultMessage:"Log out"}});t.a=Object(o.c)(Object(i.connect)((e=>({account:e.getIn(["accounts",c.r])})),((e,t)=>{let{intl:a}=t;return{onLogout(){e(Object(n.b)({modalType:"CONFIRM",modalProps:{message:a.formatMessage(d.logoutMessage),confirm:a.formatMessage(d.logoutConfirm),closeWhenConfirm:!1,onConfirm:()=>Object(r.a)()}}))}}}))(l.a))},1570:function(e,t,a){"use strict";a.r(t);var s=a(0),o=a(2),i=a(7),n=a(28),c=a(8),r=a.n(c),l=a(129),d=a(9),g=a(74),u=a.n(g),b=a(22),m=a(1041),h=a(11),f=a(723),O=a(1353),j=a(33),p=a(949),M=a(3),v=a.n(M),_=a(153),C=a(16),N=a.n(C),w=a(18),x=a(27),S=a(87);function k(e,t,a){return e(t)?a:null}const I=Object(i.d)({community:{defaultMessage:"Local timeline",id:"navigation_bar.community_timeline"},home_timeline:{defaultMessage:"Home",id:"tabs_bar.home"},logout:{defaultMessage:"Logout",id:"navigation_bar.logout"},notifications:{defaultMessage:"Notifications",id:"tabs_bar.notifications"},public:{defaultMessage:"Federated timeline",id:"navigation_bar.public_timeline"},settings:{defaultMessage:"App settings",id:"navigation_bar.app_settings"},start:{defaultMessage:"Getting started",id:"getting_started.heading"}});class L extends w.a{constructor(){super(...arguments),this.handleLogoutClick=e=>(e.preventDefault(),e.stopPropagation(),this.props.onLogout(),!1)}render(){const{intl:e,columns:t,unreadNotifications:a,showNotificationsBadge:o,onSettingsClick:i}=this.props,n=k.bind(null,(e=>!t||!t.some((t=>t.get("id")===e))));return Object(s.a)("nav",{className:"drawer__header"},void 0,Object(s.a)(_.a,{"aria-label":e.formatMessage(I.start),title:e.formatMessage(I.start),to:"/getting-started"},void 0,Object(s.a)(x.a,{id:"asterisk"})),n("HOME",Object(s.a)(_.a,{"aria-label":e.formatMessage(I.home_timeline),title:e.formatMessage(I.home_timeline),to:"/home"},void 0,Object(s.a)(x.a,{id:"home"}))),n("NOTIFICATIONS",Object(s.a)(_.a,{"aria-label":e.formatMessage(I.notifications),title:e.formatMessage(I.notifications),to:"/notifications"},void 0,Object(s.a)("span",{className:"icon-badge-wrapper"},void 0,Object(s.a)(x.a,{id:"bell"}),o&&a>0&&Object(s.a)("div",{className:"icon-badge"})))),n("COMMUNITY",Object(s.a)(_.a,{"aria-label":e.formatMessage(I.community),title:e.formatMessage(I.community),to:"/public/local"},void 0,Object(s.a)(x.a,{id:"users"}))),n("PUBLIC",Object(s.a)(_.a,{"aria-label":e.formatMessage(I.public),title:e.formatMessage(I.public),to:"/public"},void 0,Object(s.a)(x.a,{id:"globe"}))),Object(s.a)("a",{"aria-label":e.formatMessage(I.settings),onClick:i,href:"/settings/preferences",title:e.formatMessage(I.settings)},void 0,Object(s.a)(x.a,{id:"cogs"})),Object(s.a)("a",{"aria-label":e.formatMessage(I.logout),onClick:this.handleLogoutClick,href:S.e,title:e.formatMessage(I.logout)},void 0,Object(s.a)(x.a,{id:"sign-out"})))}}L.propTypes={columns:N.a.list,unreadNotifications:v.a.number,showNotificationsBadge:v.a.bool,intl:v.a.object,onSettingsClick:v.a.func,onLogout:v.a.func.isRequired};var y=Object(n.c)(L);const T=Object(i.d)({logoutMessage:{id:"confirmations.logout.message",defaultMessage:"Are you sure you want to log out?"},logoutConfirm:{id:"confirmations.logout.confirm",defaultMessage:"Log out"}});var z=Object(n.c)(Object(d.connect)((e=>({columns:e.getIn(["settings","columns"]),unreadNotifications:e.getIn(["notifications","unread"]),showNotificationsBadge:e.getIn(["local_settings","notifications","tab_badge"])})),((e,t)=>{let{intl:a}=t;return{onSettingsClick(t){t.preventDefault(),t.stopPropagation(),e(Object(j.b)({modalType:"SETTINGS",modalProps:{}}))},onLogout(){e(Object(j.b)({modalType:"CONFIRM",modalProps:{message:a.formatMessage(T.logoutMessage),confirm:a.formatMessage(T.logoutConfirm),closeWhenConfirm:!1,onConfirm:()=>Object(p.a)()}}))}}}))(y)),P=a(1444),F=a(1399),W=a(90),A=a(966),H=a(20),R=a(1216),U=a(1439),q=a(1042),B=a(1396),E=a(1694),D=a(6);const G=10,J=e=>e.size>G&&e.size%G==1?e.skipLast(1):e;class $ extends w.a{constructor(){super(...arguments),this.handleLoadMoreAccounts=()=>this.props.expandSearch("accounts"),this.handleLoadMoreStatuses=()=>this.props.expandSearch("statuses"),this.handleLoadMoreHashtags=()=>this.props.expandSearch("hashtags")}render(){const{results:e}=this.props;let t,a,o;return e.get("accounts")&&e.get("accounts").size>0&&(t=Object(s.a)(E.a,{title:Object(D.jsxs)(D.Fragment,{children:[Object(s.a)(x.a,{id:"users",fixedWidth:!0}),Object(s.a)(H.a,{id:"search_results.accounts",defaultMessage:"Profiles"})]})},void 0,J(e.get("accounts")).map((e=>Object(s.a)(q.a,{id:e},e))),e.get("accounts").size>G&&e.get("accounts").size%G==1&&Object(s.a)(U.a,{visible:!0,onClick:this.handleLoadMoreAccounts}))),e.get("hashtags")&&e.get("hashtags").size>0&&(o=Object(s.a)(E.a,{title:Object(D.jsxs)(D.Fragment,{children:[Object(s.a)(x.a,{id:"hashtag",fixedWidth:!0}),Object(s.a)(H.a,{id:"search_results.hashtags",defaultMessage:"Hashtags"})]})},void 0,J(e.get("hashtags")).map((e=>Object(s.a)(R.a,{hashtag:e},e.get("name")))),e.get("hashtags").size>G&&e.get("hashtags").size%G==1&&Object(s.a)(U.a,{visible:!0,onClick:this.handleLoadMoreHashtags}))),e.get("statuses")&&e.get("statuses").size>0&&(a=Object(s.a)(E.a,{title:Object(D.jsxs)(D.Fragment,{children:[Object(s.a)(x.a,{id:"quote-right",fixedWidth:!0}),Object(s.a)(H.a,{id:"search_results.statuses",defaultMessage:"Posts"})]})},void 0,J(e.get("statuses")).map((e=>Object(s.a)(B.a,{id:e},e))),e.get("statuses").size>G&&e.get("statuses").size%G==1&&Object(s.a)(U.a,{visible:!0,onClick:this.handleLoadMoreStatuses}))),Object(s.a)("div",{className:"drawer--results"},void 0,Object(s.a)("header",{className:"search-results__header"},void 0,Object(s.a)(x.a,{id:"search",fixedWidth:!0}),Object(s.a)(H.a,{id:"explore.search_results",defaultMessage:"Search results"})),t,o,a)}}$.propTypes={results:N.a.map.isRequired,expandSearch:v.a.func.isRequired,searchTerm:v.a.string};var X=$;var Y=Object(d.connect)((e=>({results:e.getIn(["search","results"]),suggestions:e.getIn(["suggestions","items"]),searchTerm:e.getIn(["search","searchTerm"])})),(e=>({fetchSuggestions:()=>e(Object(A.f)()),expandSearch:t=>e(Object(W.n)(t)),dismissSuggestion:t=>e(Object(A.e)(t.get("id")))})))(X);const K=Object(i.d)({compose:{id:"navigation_bar.compose",defaultMessage:"Compose new post"}});class Q extends o.PureComponent{componentDidMount(){this.props.onMount()}componentWillUnmount(){this.props.onUnmount()}render(){const{elefriend:e,intl:t,multiColumn:a,onClickElefriend:o,showSearch:i}=this.props,n=r()("drawer",`mbstobon-${e}`);return a?Object(s.a)("div",{className:n,role:"region","aria-label":t.formatMessage(K.compose)},void 0,Object(s.a)(z,{}),a&&Object(s.a)(F.a,{}),Object(s.a)("div",{className:"drawer__pager"},void 0,Object(s.a)("div",{className:"drawer__inner"},void 0,Object(s.a)(P.a,{}),Object(s.a)(O.a,{}),Object(s.a)("div",{className:"drawer__inner__mastodon"},void 0,h.p?Object(s.a)("img",{alt:"",draggable:"false",src:h.p}):Object(s.a)("button",{className:"mastodon",onClick:o}))),Object(s.a)(f.a,{defaultStyle:{x:-100},style:{x:u()(i?0:-100,{stiffness:210,damping:20})}},void 0,(e=>{let{x:t}=e;return Object(s.a)("div",{className:"drawer__inner darker",style:{transform:`translateX(${t}%)`,visibility:-100===t?"hidden":"visible"}},void 0,Object(s.a)(Y,{}))})))):Object(s.a)(m.a,{},void 0,Object(s.a)(P.a,{}),Object(s.a)(O.a,{}),Object(s.a)(l.a,{},void 0,Object(s.a)("meta",{name:"robots",content:"noindex"})))}}t.default=Object(d.connect)(((e,t)=>({elefriend:e.getIn(["compose","elefriend"]),showSearch:!!t.multiColumn&&(e.getIn(["search","submitted"])&&!e.getIn(["search","hidden"]))})),(e=>({onClickElefriend(){e(Object(b.nb)())},onMount(){e(Object(b.wb)())},onUnmount(){e(Object(b.Hb)())}})))(Object(n.c)(Q))}}]);
//# sourceMappingURL=compose.js.map