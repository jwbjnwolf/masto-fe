(window.webpackJsonp=window.webpackJsonp||[]).push([[477],{1594:function(e,o,t){"use strict";t.r(o);var a=t(0),s=t(3),c=t.n(s),i=t(22),n=t(126),l=t(16),d=t.n(l),r=t(18),u=t(9),p=t(58),b=t(110),g=t(963),m=t(43),f=t(66),j=t(1658),O=t(626),h=t(7),w=t(28),v=t(20),_=t(87),y=t(111),k=t(33),N=t(146),x=t(142);const M=Object(h.d)({follow:{id:"account.follow",defaultMessage:"Follow"},unfollow:{id:"account.unfollow",defaultMessage:"Unfollow"}});class q extends r.a{constructor(){super(...arguments),this.handleFollow=()=>{const{account:e,dispatch:o}=this.props;e.getIn(["relationship","following"])||e.getIn(["relationship","requested"])?o(Object(v.mb)(e.get("id"))):o(Object(v.eb)(e.get("id")))}}render(){const{account:e,intl:o}=this.props;let t;return t=e.getIn(["relationship","following"])?Object(a.a)(k.a,{icon:"check",title:o.formatMessage(M.unfollow),active:!0,onClick:this.handleFollow}):Object(a.a)(k.a,{icon:"plus",title:o.formatMessage(M.follow),onClick:this.handleFollow}),Object(a.a)("div",{className:"account follow-recommendations-account"},void 0,Object(a.a)("div",{className:"account__wrapper"},void 0,Object(a.a)(N.a,{className:"account__display-name account__display-name--with-note",title:e.get("acct"),href:e.get("url"),to:`/@${e.get("acct")}`},void 0,Object(a.a)("div",{className:"account__avatar-wrapper"},void 0,Object(a.a)(_.a,{account:e,size:36})),Object(a.a)(y.a,{account:e}),Object(a.a)("div",{className:"account__note"},void 0,e.get("note_plain").split(/(([.?!]+\s)|[．。？！\n•])/)[0])),Object(a.a)("div",{className:"account__relationship"},void 0,t)))}}q.propTypes={account:d.a.map.isRequired,intl:c.a.object.isRequired,dispatch:c.a.func.isRequired};var D=Object(u.connect)((()=>{const e=Object(x.e)();return(o,t)=>({account:e(o,t.id)})}))(Object(w.c)(q)),F=t(6);class I extends r.a{constructor(){super(...arguments),this.handleDone=()=>{const{dispatch:e}=this.props,{router:o}=this.context;e(Object(p.E)((o=>{"granted"===o&&(e(Object(b.c)(["notifications","alerts","follow"],!0)),e(Object(b.c)(["notifications","alerts","favourite"],!0)),e(Object(b.c)(["notifications","alerts","reblog"],!0)),e(Object(b.c)(["notifications","alerts","mention"],!0)),e(Object(b.c)(["notifications","alerts","poll"],!0)),e(Object(b.c)(["notifications","alerts","status"],!0)),e(Object(b.d)()))}))),o.history.push("/home")}}componentDidMount(){const{dispatch:e,suggestions:o}=this.props;0===o.size&&e(Object(g.f)(!0))}componentWillUnmount(){const{dispatch:e}=this.props;e(Object(m.D)("home"))}render(){const{suggestions:e,isLoading:o}=this.props;return Object(a.a)(j.a,{},void 0,Object(a.a)("div",{className:"scrollable follow-recommendations-container"},void 0,Object(a.a)("div",{className:"column-title"},void 0,Object(a.a)("svg",{viewBox:"0 0 79 79",className:"logo"},void 0,Object(a.a)("use",{xlinkHref:"#logo-symbol-icon"})),Object(a.a)("h3",{},void 0,Object(a.a)(i.a,{id:"follow_recommendations.heading",defaultMessage:"Follow people you'd like to see posts from! Here are some suggestions."})),Object(a.a)("p",{},void 0,Object(a.a)(i.a,{id:"follow_recommendations.lead",defaultMessage:"Posts from people you follow will show up in chronological order on your home feed. Don't be afraid to make mistakes, you can unfollow people just as easily any time!"}))),!o&&Object(F.jsxs)(F.Fragment,{children:[Object(a.a)("div",{className:"column-list"},void 0,e.size>0?e.map((e=>Object(a.a)(D,{id:e.get("account")},e.get("account")))):Object(a.a)("div",{className:"column-list__empty-message"},void 0,Object(a.a)(i.a,{id:"empty_column.follow_recommendations",defaultMessage:"Looks like no suggestions could be generated for you. You can try using search to look for people you might know or explore trending hashtags."}))),Object(a.a)("div",{className:"column-actions"},void 0,Object(a.a)("img",{src:O.default,alt:"",className:"column-actions__background"}),Object(a.a)(f.a,{onClick:this.handleDone},void 0,Object(a.a)(i.a,{id:"follow_recommendations.done",defaultMessage:"Done"})))]})),Object(a.a)(n.a,{},void 0,Object(a.a)("meta",{name:"robots",content:"noindex"})))}}I.contextTypes={router:c.a.object.isRequired},I.propTypes={dispatch:c.a.func.isRequired,suggestions:d.a.list,isLoading:c.a.bool};o.default=Object(u.connect)((e=>({suggestions:e.getIn(["suggestions","items"]),isLoading:e.getIn(["suggestions","isLoading"])})))(I)},626:function(e,o,t){"use strict";t.r(o),o.default=t.p+"media/images/elephant_ui_greeting-530b368959aeb035f1ebb16fbc361c71.svg"}}]);
//# sourceMappingURL=follow_recommendations.js.map