(window.webpackJsonp=window.webpackJsonp||[]).push([[473],{1506:function(e,t,a){"use strict";a.r(t);var o=a(0),c=a(51),s=a.n(c),n=a(3),i=a.n(n),d=a(22),u=a(16),l=a.n(u),r=a(18),p=a(9),b=a(1676),m=a(1022),h=a(1071),g=a(123),O=a(23),j=a(1430),I=a(1037),f=a(1428),w=a(1390),y=a(1677),M=a(1673),_=a(1659);const L=e=>{let{url:t}=e;return Object(o.a)(b.a,{url:t,resource:Object(o.a)(d.a,{id:"timeline_hint.resources.follows",defaultMessage:"Follows"})})};class k extends r.a{constructor(){super(...arguments),this.handleLoadMore=s()((()=>{this.props.dispatch(Object(O.N)(this.props.accountId))}),300,{leading:!0})}_load(){const{accountId:e,isAccount:t,dispatch:a}=this.props;t||a(Object(O.O)(e)),a(Object(O.R)(e))}componentDidMount(){const{params:{acct:e},accountId:t,dispatch:a}=this.props;t?this._load():a(Object(O.U)(e))}componentDidUpdate(e){const{params:{acct:t},accountId:a,dispatch:o}=this.props;e.accountId!==a&&a?this._load():e.params.acct!==t&&o(Object(O.U)(t))}render(){const{accountId:e,accountIds:t,hasMore:a,blockedBy:c,isAccount:s,multiColumn:n,isLoading:i,suspended:u,hidden:l,remote:r,remoteUrl:p}=this.props;if(!s)return Object(o.a)(m.a,{multiColumn:n,errorType:"routing"});if(!t)return Object(o.a)(_.a,{},void 0,Object(o.a)(I.a,{}));let b;const h=c||u||l;b=u?Object(o.a)(d.a,{id:"empty_column.account_suspended",defaultMessage:"Account suspended"}):l?Object(o.a)(y.a,{accountId:e}):c?Object(o.a)(d.a,{id:"empty_column.account_unavailable",defaultMessage:"Profile unavailable"}):r&&t.isEmpty()?Object(o.a)(L,{url:p}):Object(o.a)(d.a,{id:"account.follows.empty",defaultMessage:"This user doesn't follow anyone yet."});const g=r?Object(o.a)(L,{url:p}):null;return Object(o.a)(_.a,{},void 0,Object(o.a)(j.a,{multiColumn:n}),Object(o.a)(f.a,{scrollKey:"following",hasMore:!h&&a,isLoading:i,onLoadMore:this.handleLoadMore,prepend:Object(o.a)(M.a,{accountId:this.props.accountId,hideTabs:!0}),alwaysPrepend:!0,append:g,emptyMessage:b,bindToDocument:!n},void 0,h?[]:t.map((e=>Object(o.a)(w.a,{id:e,withNote:!1},e)))))}}k.propTypes={params:i.a.shape({acct:i.a.string,id:i.a.string}).isRequired,accountId:i.a.string,dispatch:i.a.func.isRequired,accountIds:l.a.list,hasMore:i.a.bool,isLoading:i.a.bool,blockedBy:i.a.bool,isAccount:i.a.bool,suspended:i.a.bool,hidden:i.a.bool,remote:i.a.bool,remoteUrl:i.a.string,multiColumn:i.a.bool},t.default=Object(p.connect)(((e,t)=>{let{params:{acct:a,id:o}}=t;const c=o||e.getIn(["accounts_map",Object(h.b)(a)]);return c?{accountId:c,remote:!(e.getIn(["accounts",c,"acct"])===e.getIn(["accounts",c,"username"])),remoteUrl:e.getIn(["accounts",c,"url"]),isAccount:!!e.getIn(["accounts",c]),accountIds:e.getIn(["user_lists","following",c,"items"]),hasMore:!!e.getIn(["user_lists","following",c,"next"]),isLoading:e.getIn(["user_lists","following",c,"isLoading"],!0),suspended:e.getIn(["accounts",c,"suspended"],!1),hidden:Object(g.b)(e,c),blockedBy:e.getIn(["relationships",c,"blocked_by"],!1)}:{isLoading:!0}}))(k)}}]);
//# sourceMappingURL=following.js.map